import{_ as L,r as s,U as T,H as Y,V as w,o as n,g as l,h as _,F as x,p as b,k}from"./main.da1efb61.js";const A={id:"app"},R=["src"],S=["src","onLoadeddata"],B={__name:"videoAuto",setup(E){const f=[[{url:"yc1.MP4",cover:"yc1.jpg"},{url:"yc2.MP4",cover:"yc2.jpg"},{url:"yc3.MP4",cover:"yc3.jpg"}],[{url:"yt1.MP4",cover:"yt1.jpg"},{url:"yt2.MP4",cover:"yt2.jpg"},{url:"yt3.MP4",cover:"yt3.jpg"},{url:"yt4.MP4",cover:"yt4.jpg"},{url:"yt5.MP4",cover:"yt5.jpg"}],[{url:"bs1.MP4",cover:"bs1.jpg"},{url:"bs2.MP4",cover:"bs2.jpg"}]],g=window.location.search;new URLSearchParams(g);let u=s(0);const h=T();u.value=h.query.type,console.log(u.value);const o=f[u.value];console.log(o);const t=s(0),d=s([o[t.value]]),m=s([]),r=s(o.map(()=>!1));let p=0,c=!1;const M=e=>{p=e.touches[0].clientY,c=!0},P=e=>{!c||e.touches[0].clientY},j=e=>{if(!c)return;const a=e.changedTouches[0].clientY-p;a<-50?t.value<o.length-1&&(t.value++,d.value=[o[t.value]],r.value=o.map(()=>!1),y()):a>50&&t.value>0&&(t.value--,d.value=[o[t.value]],r.value=o.map(()=>!1)),c=!1},y=()=>{if(t.value<o.length-1){const e=t.value+1,v=new Audio(o[e].url);v.preload="auto"}},V=e=>{r.value[e]=!0};return Y(()=>{y(),w(()=>{const e=m.value[t.value];e&&(e.load(),e.play())})}),(e,v)=>(n(),l("div",A,[_("div",{class:"video-container",onTouchstart:M,onTouchmove:P,onTouchend:j},[(n(!0),l(x,null,b(d.value,(a,i)=>(n(),l("div",{key:i,class:"video-item"},[r.value[i]?k("",!0):(n(),l("img",{key:0,src:e.$domain+"/"+a.cover,alt:"Video Cover",class:"video-cover"},null,8,R)),_("video",{ref_for:!0,ref:"videoRefs[index]",src:e.$domain+"/"+a.url,playsinline:"",autoplay:"",muted:"",onLoadeddata:I=>V(i)},null,40,S)]))),128))],32)]))}};var $=L(B,[["__scopeId","data-v-5f8175d4"]]);export{$ as default};
//# sourceMappingURL=videoAuto.dadf62e7.js.map
