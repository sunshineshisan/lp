import{$ as _,_ as w,u as k,b as M,r as t,B as O,C,D as N,o as y,f as I,g as s,G as $,t as r,h as c,p as B,z as J,q as b,s as q,v as A,y as D,x as T,M as U}from"./main.71bb59ad.js";var z={set_user:function(l){return _.get("api/get/set_user",l)},get_PL:function(l){return _.get("api/get/convension",l)}};const E={class:"main"},j={class:"PLdata"},G={"infinite-scroll-immediate":"",class:"infinite-list",style:{overflow:"auto"}},R={class:"infinite-list-item"},V={class:"infinite-list-item"},F={class:"infinite-list-item"},H={class:"infinite-list-item"},K={__name:"PL",setup(l){let a={en:B,zh:J,jp:b,ko:q,vi:A}[localStorage.getItem("language")];console.log(a);const f=k();JSON.parse(localStorage.getItem("user"))||f.replace("/login");const p=M(),S=t({});(()=>{D.get_user({account:JSON.parse(localStorage.getItem("user")).account}).then(o=>{if(o.code==0){const e=o.rows[0];console.log(e),delete e.password,S.value=e,p.user=e,console.log(p.user);const g=e;localStorage.setItem("user",JSON.stringify(g))}else T.error("fail")})})();const n=o=>{f.push({path:"/videoAuto",query:{type:o-1}})},u=t(0),L=t(5);let m=0,i=t([]);t([]);let P=t(!1);t(!1);const v=async o=>{console.log(o),await z.get_PL({pageIndex:u.value,pageCount:L.value,gender:o||0}).then(e=>{if(e.code==0)if(e.rows.length<1&&(P.value=!0),u.value==0?(localStorage.getItem("PLdataOM0")||(i.value=e.rows),localStorage.setItem("PLdataOM0",JSON.stringify(e.rows))):i.value=i.value.concat(e.rows),e.rows.length>0)u.value+=1;else{U.warning({title:a.message.title,content:a.message.msg,okText:a.mine.model.message[1].okText});return}else msg.error("fail")})},x=()=>{setTimeout(()=>{v(m)},500)},h=()=>{console.log(m),localStorage.getItem("PLdataOM0")?i.value=JSON.parse(localStorage.getItem("PLdataOM0")):v(0)};return O(()=>{}),t(null),t(null),C(async()=>{h()}),(o,e)=>{const g=N;return y(),I("div",E,[s("div",j,[$((y(),I("ul",G,[s("li",R,[s("div",{class:"partyItem flex",onClick:e[0]||(e[0]=d=>n(1))},r(c(a).PL.party[0]),1)]),s("li",V,[s("div",{class:"partyItem flex",onClick:e[1]||(e[1]=d=>n(2))},r(c(a).PL.party[1]),1)]),s("li",F,[s("div",{class:"partyItem flex",onClick:e[2]||(e[2]=d=>n(3))},r(c(a).PL.party[2]),1)]),s("li",H,[s("div",{class:"partyItem flex",onClick:e[3]||(e[3]=d=>n(4))},r(c(a).PL.party[3]),1)])])),[[g,x]])])])}}};var Z=w(K,[["__scopeId","data-v-6e930b7c"]]);export{Z as default};
//# sourceMappingURL=PL.60a3a4d0.js.map
